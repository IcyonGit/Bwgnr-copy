<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Computer Science</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="http://bwagner.org/menu/uil/css/menu.css">
<link rel="stylesheet" href="http://bwagner.org/menu/uil/css/computerscience.css">
</head>
<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<table border="0" align="left" cellpadding="10" cellspacing ="0">
  <tr>
    <th width="99%" class="main"> 11.2 Array-Based Implementation</th>
  </tr>
  <tr> 
    <td class="main" colspan="2"> <h2>Array-Based Implementation</h2>
      <p>A heap is a special binary tree in that it is implemented with an array 
        instead of the linked approach most often associated with trees. Because 
        heaps by definition are complete binary trees, there is an elegant and 
        efficient array-based representation. Refer to the illustration below.</p>
      <p><img src="http://bwagner.org/menu/uil/Lessons/HeapsPriorityQueues/img/array-based.gif" width="600" height="330"></p>
      <p>In an array-based implementation, the elements are stored by level, as 
        shown in the array below.</p>
      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Array 
        Representation</strong></p>
      <table width="300" border="1" cellpadding="0" cellspacing="1" bordercolor="#000000">
        <tr bgcolor="#000000"> 
          <td> <div align="center"><font color="#FFFFFF"><strong>0</strong></font></div></td>
          <td> <div align="center"><font color="#FFFFFF"><strong>1</strong></font></div></td>
          <td> <div align="center"><font color="#FFFFFF"><strong>2</strong></font></div></td>
          <td> <div align="center"><font color="#FFFFFF"><strong>3</strong></font></div></td>
          <td> <div align="center"><font color="#FFFFFF"><strong>4</strong></font></div></td>
          <td> <div align="center"><font color="#FFFFFF"><strong>5</strong></font></div></td>
          <td> <div align="center"><font color="#FFFFFF"><strong>6</strong></font></div></td>
        </tr>
        <tr bgcolor="#FFFFFF"> 
          <td> 
            <div align="center"><strong>a</strong></div></td>
          <td> 
            <div align="center"><strong>b</strong></div></td>
          <td> 
            <div align="center"><strong>c</strong></div></td>
          <td> 
            <div align="center"><strong>d</strong></div></td>
          <td> 
            <div align="center"><strong>e</strong></div></td>
          <td> 
            <div align="center"><strong>f</strong></div></td>
          <td> 
            <div align="center"><strong>g</strong></div></td>
        </tr>
      </table>
      <p>Given an arbitrary item at position <em>i</em> in the array, it is easy 
        to determine the location of related items, as shown below.</p>
      <table width="474" border="1" cellspacing="0" cellpadding="0">
        <tr bgcolor="#000066"> 
          <td width="215"> <div align="center"><font color="#FFFFFF"><strong>ITEM 
              </strong></font></div></td>
          <td width="253"> <div align="center"><font color="#FFFFFF"><strong>LOCATION</strong></font></div></td>
        </tr>
        <tr bgcolor="#ECF5FF"> 
          <td>Parent</td>
          <td> 
            <div align="center">(i -1) / 2</div></td>
        </tr>
        <tr bgcolor="#ECF5FF"> 
          <td>Left sibling, if there is one</td>
          <td> 
            <div align="center">i -1</div></td>
        </tr>
        <tr bgcolor="#ECF5FF"> 
          <td>Right sibling, if there is one</td>
          <td> 
            <div align="center">i + 1</div></td>
        </tr>
        <tr bgcolor="#ECF5FF"> 
          <td>Left child, if there is one</td>
          <td bgcolor="#ECF5FF"> 
            <div align="center">i * 2 + 1</div></td>
        </tr>
        <tr bgcolor="#ECF5FF"> 
          <td>Right child, if there is one</td>
          <td> 
            <div align="center">i * 2 + 2</div></td>
        </tr>
      </table>
      <p>As an example, for item <strong>b</strong> at location 1 we get the following 
        results.</p>
      <table width="479" border="1" cellspacing="0" cellpadding="0">
        <tr bgcolor="#000066"> 
          <td width="184"> <div align="center"><font color="#FFFFFF"><strong>ITEM 
              </strong></font></div></td>
          <td width="216"> <div align="center"><font color="#FFFFFF"><strong>LOCATION</strong></font></div></td>
        </tr>
        <tr bgcolor="#ECF5FF"> 
          <td>Parent</td>
          <td>a at 0 <font face="Courier New, Courier, mono">:(1-1)/2 = 0/2 = 
            0</font></td>
        </tr>
        <tr bgcolor="#ECF5FF"> 
          <td>Left sibling, if there is one</td>
          <td>not applicable</td>
        </tr>
        <tr bgcolor="#ECF5FF"> 
          <td>Right sibling, if there is one</td>
          <td>c at 2 <strong>:</strong> 1+1 = 2</td>
        </tr>
        <tr bgcolor="#ECF5FF"> 
          <td>Left child, if there is one</td>
          <td>d at 3<strong> :</strong> 1 * 2 + 1 = 3</td>
        </tr>
        <tr bgcolor="#ECF5FF"> 
          <td>Right child, if there is one</td>
          <td>e at 4 <strong>:</strong> 1 * 2 + 2 = 4</td>
        </tr>
      </table>
      <p>One might naturally ask why the array representation does not work for 
        <strong>incomplete</strong> binary trees. The reason is not hard to see. 
        In an incomplete binary tree, some levels are not filled above others. 
        But the calculation of a node's relatives(parent, siblings, children) 
        in an array is based on being able to multiply or divide its index by 
        2, which cannot be done when levels are not filled in a top-down manner.</p>
      <p>For this reason, the array representation is pretty rare and is used 
        mainly to implement a heap.</p>
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      </td>
  </tr>
</table>