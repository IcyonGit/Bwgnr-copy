<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Computer Science</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="http://bwagner.org/menu/uil/css/menu.css">
<link rel="stylesheet" href="http://bwagner.org/menu/uil/css/computerscience.css">
</head>
<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<table border="0" align="left" cellpadding="10" cellspacing ="0">
  <tr>
    <th width="99%" class="main"> 7.2 Email Address(05-4)</th>
  </tr>
  <tr> 
    <td class="main" colspan="2"> <h2>AP AB Free Response</h2>
      <h3 align="left">Name: Email Address<br>
        Topic: Map, Queue, Set<br>
        Source Code: <a href="http://bwagner.org/menu/uil/Lessons/Unordered%20Collections/ap%20free%20response/EmailAddress.zip">Email 
        Address</a></h3>
      <hr size=2 width="100%" align=center>
      <p>Consider an e-mail address book that allows the user to store e-mail 
        addresses by associating them with an alias (a name used to identify the 
        recipient or group of recipients). The address book is represented by 
        a map in which the key is the alias and the corresponding value is a set 
        of the actual e-mail addresses and/or other aliases associated with that 
        key. Each alias is a key in the map representing the address book; e-mail 
        addresses are not keys in the map. This distinguishes aliases from addresses.</p>
        The following shows an example of an address book. <br>
      <table width="339" border="1" class="notes">
	  <caption><strong>addressBook</strong></caption>
        <tr> 
          <td width="78"><div align="center">
              <p align="left"><strong>Alias</strong></p>
            </div></td>
          <td width="280"><div align="center">
              <p align="left"><strong>Expansion Set</strong></p>
            </div></td>
        </tr>
        <tr> 
          <td><p>techstaff</p></td>
          <td><p>{ pat@ez.edu, chris@ez.edu }</p></td>
        </tr>
        <tr> 
          <td><p>faculty</p></td>
          <td><p>{ bobby, ana, sam@ez.edu }</p></td>
        </tr>
        <tr> 
          <td><p>bobby</p></td>
          <td><p>{ bob@cs.org }</p></td>
        </tr>
        <tr> 
          <td><p>ana</p></td>
          <td><p>{ ana@ez.edu }</p></td>
        </tr>
        <tr> 
          <td><p>all</p></td>
          <td><p>{ phil@ez.edu, faculty, techstaff }</p></td>
        </tr>
      </table>
      <p>The e-mail address book is represented by the class <em>EmailAddresses</em>, 
        for which a partial declaration is shown below. You will implement two 
        methods in the <em>EmailAddresses</em> class. </p>
      <pre>public class EmailAddresses
{
   // Map addressBook is structured such that each key is a String 
   // representing an alias and the corresponding value is a Set
   // containing Strings that represent e-mail addresses and aliases
<font color="#0000FF">   private Map&lt;String, Set&lt;String&gt;&gt; addressBook;</font>  
 
   // adds all elements of the Set items to the Queue q 
   // postcondition: the Set items is not modified;
   //    q contains its original elements followed
   //    by the elements from items
   <font color="#0000FF">private void appendSetToQueue(Set&lt;String&gt; items, Queue&lt;String&gt; q)</font>
   { /* to be implemented in part (a) */ }
      


   // returns a Set consisting of the e-mail addresses associated with 
   // the parameter alias, such that all intermediate resulting aliases 
   // have been expanded;
   // precondition: alias is a key in addressBook 
  <font color="#0000FF"> public Set&lt;String&gt; expandAlias(String alias)</font>
   { /* to be implemented in part (b) */ }



   // constructors, other data fields and other methods not shown
        
}
      </pre>
      <p>(a) Write the <em>EmailAddresses</em> method <em>appendSetToQueue</em>. 
        This method adds the elements of the <br>
        set parameter items to the queue parameter q. The table below shows the 
        result of several calls to <br>
        <em>appendSetToQueue</em>. Note that the front of each queue is to the 
        left and the rear of each queue is to the <br>
        right.</p>
      <table width="546" border="0">
        <tr> 
          <td width="174"><div align="center"><p>Set items<br>
              (unchanged after each call)</p></div></td>
          <td width="150"><p align="center">q Before Call to<br>
              appendSetToQueue</p></td>
          <td width="208"><div align="center"><p>q After the Call<br>
              appendSetToQueue(items, q)</p></div></td>
        </tr>
      </table>
      <table width="545" border="0" class="notes">
        <tr> 
          <td width="176"><p align="center">{ pat@ez.edu, chris }</p></td>
          <td width="149"><p align="center">[]</p></td>
          <td width="206"><p align="center">[pat@ez.edu, chris]</p></td>
        </tr>
        <tr> 
          <td><p align="center">{ bob@cs.org }</p></td>
          <td><p align="center">[pat, ana]</p></td>
          <td><p align="center">[pat, ana, bob@cs.org]</p></td>
        </tr>
        <tr> 
          <td><p align="center">{ sam@ez.edu, bobby }</p></td>
          <td><p align="center">[chris]</p></td>
          <td><p align="center">[chris, sam@ez.edu, bobby]</p></td>
        </tr>
      </table> 
      <p>Complete method <strong>appendSetToQueue</strong> below. </p>
      <pre>// adds all elements of the Set items to the Queue q
// postcondition: the Set items is not modified;
// q contains its original elements followed
// by the elements from items
private void <strong>appendSetToQueue</strong>(Set&lt;String&gt; items, Queue&lt;String&gt; q) </pre>
      <p><br>
	  <br>
	  <br>
	  <br>
      </p>
      <p>(b) In this part, you will write the <em>EmailAddresses</em> method <em>expandAlias</em>. 
        When an alias is expanded, <br>
        the expansion can contain aliases that may also need to be expanded. The 
        sequence of expanding all such <br>
        aliases stops when no further expansion is possible; that is, the original 
        alias has been resolved into a set of <br>
        e-mail addresses. <br>
        Note that when an alias is expanded, the sequence of expansions could 
        result in a cycle in which the original alias is expanded again. An example 
        of a cycle occurs when expanding either of the aliases shown in the following 
        table. For this question, you may assume that an alias cycle never occurs. 
      </p>
      <table width="343" border="0" class="notes">
        <tr> 
          <td width="128"><div align="center">
              <p align="left"><strong>Alias</strong></p>
            </div></td>
          <td width="205"><div align="center">
              <p align="left"><strong>Expansion Set</strong></p>
            </div></td>
        </tr>
        <tr> 
          <td><p>players</p></td>
          <td><p>{ offense, defense }</p></td>
        </tr>
        <tr> 
          <td><p>offense</p></td>
          <td><p>{ players }</p></td>
        </tr>
      </table>
      <p>One strategy for fully expanding an alias is to use an intermediate queue 
        to hold aliases that need to be expanded and a set to hold the resulting 
        e-mail addresses. When an alias is removed from the queue, its associated 
        expansion is added to the queue. If an e-mail address is removed from 
        the queue, it is added to the result set. This process is repeated until 
        the queue is empty.</p>
      <p>For example, the following steps would be taken during the expansion 
        of the alias all from the Map <em>addressBook</em> shown in the example 
        on the next page. The first step is to add the alias all to the queue. 
        The resulting set of e-mail addresses is initially empty as shown below. 
      </p>
      <pre>          (Front) (Rear)
 Queue     [all]


 Set       { }</pre>
      <p>The first item is removed from the queue. Because it is an alias (all), 
        the members of its expansion set<br>
        are added to the queue as shown in the following table.</p>
      <pre>          (Front)                    (Rear)
 Queue    [phil@ez.edu, faculty, techstaff]


 Set      { }
      </pre>
      <p>The next item that is removed from the queue is an e-mail address (phil@ez.edu), 
        which is added to <br>
        the result set of e-mail addresses associated with the original alias. 
        After this step the queue and set contents are as shown. </p>
      <pre>         (Front)       (Rear)
Queue    [faculty, techstaff]


Set      { phil@ez.edu }</pre>
      <p>This process continues until the queue is empty. The set of e-mail addresses 
        resulting from the expansion of the alias all is shown below. </p>
      <pre>{ phil@ez.edu, sam@ez.edu, pat@ez.edu, chris@ez.edu, bob@cs.org, ana@ez.edu } </pre>
      <p>Write the <em>EmailAddresses</em> method <em>expandAlias</em>. This method 
        returns a set containing all the e-mail addresses that are associated 
        with the parameter alias. <br>
        The table below shows the map given at the beginning of the question, 
        repeated here for your convenience. </p>
      <table width="336" border="0" class="notes">
        <caption><strong>addressBook</strong></caption>
        <tr> 
          <td width="98"><p align="left"><strong>Alias</strong></p></td>
          <td width="228"><P align="left"><strong>Expansion Set</strong></P></td>
        </tr>
        <tr> 
          <td><p>techstaff</p></td>
          <td><p>{ pat@ez.edu, chris@ez.edu }</p></td>
        </tr>
        <tr> 
          <td><p>faculty</p></td>
          <td><p>{ bobby, ana, sam@ez.edu }</p></td>
        </tr>
        <tr> 
          <td><p>bobby</p></td>
          <td><p>{ bob@cs.org }</p></td>
        </tr>
        <tr> 
          <td><p>ana</p></td>
          <td><p>{ ana@ez.edu }</p></td>
        </tr>
        <tr> 
          <td><p>all</p></td>
          <td><p>{ phil@ez.edu, faculty, techstaff }</p></td>
        </tr>
      </table>
      <p> The next table shows the result of several calls to <em>expandAlias</em>. 
        (The method returns a set; it is acceptable if your implementation produces 
        the elements in a different order.)</p>
      <table width="532" border="0">
        <tr> 
          <td width="204"><div align="center">
              <p align="left"><strong>Method Call</strong></p>
            </div></td>
          <td width="318"><div align="center">
              <p align="left"><strong>Set Returned from Method Call</strong></p>
            </div></td>
        </tr>
      </table>
      <table width="533" border="0" class="notes">
        <tr> 
          <td width="207"><p>expandAlias(&quot;bobby&quot;)</p></td>
          <td width="316"><p>{ bob@cs.org }</p></td>
        </tr>
        <tr>
          <td><p>expandAlias(&quot;faculty&quot;)</p></td>
          <td><p>{ sam@ez.edu, bob@cs.org, ana@ez.edu</p></td>
        </tr>
        <tr>
          <td><p>expandAlias(&quot;all&quot;)</p></td>
          <td><p>{ phil@ez.edu, sam@ez.edu, pat@ez.edu, </p></td>
        </tr>
        <tr>
          <td>&nbsp;</td>
          <td> <p>&nbsp;&nbsp;&nbsp;chris@ez.edu, bob@cs.org, ana@edu }</p></td>
        </tr>
      </table> 
      <p>In writing <em>expandAlias</em>, you may use the method <em>appendSetToQueue</em> 
        defined for the <em>EmailAddresses</em> class specified for this problem. 
        Assume that this method works as specified, regardless of what you wrote 
        in part (a).</p>
      <p>Complete method <strong>expandAlias</strong> below.</p>
      <pre>// returns a Set consisting of the e-mail addresses associated with
// the parameter alias, such that all intermediate resulting aliases
// have been expanded;
// precondition: alias is a key in addressBook
public Set&lt;String&gt; <strong>expandAlias</strong>(String alias)</pre>
<br><br><br>
<br>
      <h2>Sample Output</h2>
      <p>* yours may not be in same order(set property)</p>
      <table width="625" border="0">
        <tr> 
          <td bgcolor="#000000"> <pre><font color="#FFFFFF">{bob@cs.org}

{bob@cs.org,sam@ez.edu,ana@ez.edu}

{bob@cs.org,sam@ez.edu,chris@ez.edu,ana@ez.edu,pat@ez.edu,phil@ez.edu}
</font></pre></td>
        </tr>
      </table>
      <p></p></td>
  </tr>
</table>